# epidm

`epidm` provides standard methods for the management and transformation
of UK Public Health data in R

## Installation

epiviz can be installed from GitHub using the following code:

``` r
# Install epidm
remotes::install_github('ukhsa-collaboration/epidm')

# To install the development version
remotes::install_github("ukhsa-collaboration/epidm@dev")
```

## Purpose

The `epidm` package has been developed to share standard methods for the
processing of epidemiological data in the UK. Key data assets this
focuses on include

### Infection data

The Second Generation Surveillance System (SGSS) is a data asset held by
the [UK Health Security
Agency](https://www.gov.uk/government/publications/securing-our-health-the-uk-health-security-agency/securing-our-health-the-uk-health-security-agency)
(formerly Public Health England) which routinely and automatically
collects laboratory data from across England.

Laboratories return data on organisms isolated from samples such as the
organism species, specimen type, sampling date and antimicrobial
susceptibility testing results. These data are routinely used for public
health surveillance and epidemiology in England.

### Hospital data

The functions for dealing with hospital data within `epidm` are designed
to help clean, process, and link the hospital in a meaningful way. These
methods have been used to help understand [Healthcare Associated
COVID-19 in
England](https://www.medrxiv.org/content/10.1101/2021.02.16.21251625v1).

#### [Emergency Care Data Set (ECDS)](https://digital.nhs.uk/data-and-information/data-collections-and-data-sets/data-sets/emergency-care-data-set-ecds)

ECDS is the national data set for urgent and emergency care and is
reported daily by NHS Trusts.

#### [Secondary Use Services (SUS)](https://digital.nhs.uk/services/secondary-uses-service-sus)

SUS is the single, comprehensive repository for healthcare data in
England which enables a range of reporting and analyses to support the
NHS in the delivery of healthcare services. SUS is reported monthly, by
the 21st of each month for the previous months data.

#### [Hospital Episode Statistics (HES)](https://digital.nhs.uk/data-and-information/data-tools-and-services/data-services/hospital-episode-statistics)

HES is a data warehouse containing details of all admissions, outpatient
appointments and A and E attendances at NHS hospitals in England. Hes is
reported quarterly, and is a ‘cleaned’ version of SUS and ECDS.

# Package index

## Utility Functions

Functions for reading or writing data from various sources

- [`sql_clean()`](sql_clean.md) **\[stable\]** : Clean and Read a SQL
  query
- [`sql_connect()`](sql_connect.md) **\[stable\]** : Connect to a SQL
  database
- [`sql_read()`](sql_read.md) **\[stable\]** : Read a table from a SQL
  database
- [`sql_write()`](sql_write.md) **\[stable\]** : Write a table to a SQL
  database
- [`csv_from_zip()`](csv_from_zip.md) **\[stable\]** : Download a csv
  from a zip
- [`lookup_recode()`](lookup_recode.md) **\[stable\]** : Lookup table
  switch handler

## Data Management Functions

Functions for handling, cleaning and processing public health data

- [`valid_nhs()`](valid_nhs.md) **\[stable\]** : NHS Number Validity
  Check
- [`uk_patient_id()`](uk_patient_id.md) **\[stable\]** : Patient ID
  record grouping
- [`proxy_episode_dates()`](proxy_episode_dates.md) **\[stable\]** :
  Clean and Impute HES/SUS Episode Start and End Dates
- [`cip_spells()`](cip_spells.md) **\[stable\]** : Continuous Inpatient
  (CIP) Spells
- [`group_time()`](group_time.md) **\[stable\]** : Grouping of intervals
  or events that occur close together in time
- [`respeciate_generic()`](respeciate_generic.md) **\[stable\]** :
  Respeciate unspecified samples
- [`inpatient_codes()`](inpatient_codes.md) **\[experimental\]** :
  Inpatient Codes cleanup

## Lookup tables

Lookup tables used to reclassify, regroup, or translate data

- [`genus_gram_stain`](genus_gram_stain.md) : Bacterial Genus Gram Stain
  Lookup Table
- [`respeciate_organism`](respeciate_organism.md) : Respeciated
  organisms
- [`specimen_type_grouping`](specimen_type_grouping.md) : Specimen type
  grouping
- [`group_ecds_discharge_destination`](group_ecds_discharge_destination.md)
  : A&E attendance discharge destination
- [`group_inpatient_admission_method`](group_inpatient_admission_method.md)
  : Inpatient admission methods
- [`group_inpatient_discharge_destination`](group_inpatient_discharge_destination.md)
  : Inpatient discharge destination
- [`hospital_in_out_dates()`](hospital_in_out_dates.md)
  **\[experimental\]** : Hospital IN/OUT dates

## Data

Synthetic dataset for testing package functionality

- [`lab_data`](lab_data.md) : Synthetic Lab Data for epidm

# Articles

### All vignettes

- [Guide: Staged Patient Matching and Time-based Episode Grouping with
  EpiDM](epidm-function-usage.md):
